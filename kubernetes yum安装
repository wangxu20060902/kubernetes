yum 安装kubernetes 安装前系统准备
yum update 
yum install -y bash-completion wget net-tools vim 
vim /etc/selinux/config
systemctl disable firewalld
systemctl stop firewalld
shutdown -r now
安装kubernetes
wget http://mirror.centos.org/centos/7/os/x86_64/Packages/python-rhsm-certificates-1.19.10-1.el7_4.x86_64.rpm
rpm2cpio python-rhsm-certificates-1.19.10-1.el7_4.x86_64.rpm |cpio -iv --to-stdout ./etc/rhsm/ca/redhat-uep.pem > /etc/rhsm/ca/redhat-uep.pem
yum install -y etcd kubernetes   ##安装kubernetes
vi /etc/docker/daemon.json      ##修改docker镜像源加速器
vim /etc/kubernetes/apiserver   ###把原来的配置改为：
KUBE_ADMISSION_CONTROL="--admission-control=NamespaceLifecycle,NamespaceExists,LimitRanger,SecurityContextDeny,ResourceQuota"
vim /etc/sysconfig/docker  ###配置修改如下
OPTIONS='--selinux-enabled=false --insecure-registry gcr.io --log-driver=journald --signature-verification=false'
启动kubernetes：
systemctl start etcd 
systemctl start docker
systemctl start kube-apiserver
systemctl start kube-controller-manager
systemctl start kube-scheduler
systemctl start kubelet
systemctl start kube-proxy

mysql_rc.yaml  添加

apiVersion: v1
kind: ReplicationController
metadata:
  name: mysql
spec:
  replicas: 1
  selector:
    app: mysql
  template:
    metadata:
      labels:
        app: mysql
    spec:
      containers:
      - name: mysql
        image: mysql
        ports:
        - containerPort: 3306
        env:
        - name: MYSQL_ROOT_PASSWORD
          value: "123456"
kuberctl create -f mysql.rc yaml 


